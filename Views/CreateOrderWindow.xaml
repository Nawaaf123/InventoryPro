<Window x:Class="InventoryPro.Views.CreateOrderWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Create Order"
        Height="520"
        Width="720"
        WindowStartupLocation="CenterOwner">

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- HEADER -->
        <TextBlock Text="Create Order"
                   FontSize="22"
                   FontWeight="Bold"/>

        <!-- WHOLESALER -->
        <StackPanel Grid.Row="1" Margin="0,12,0,12">
            <TextBlock Text="Wholesaler / Customer"/>
            <ComboBox ItemsSource="{Binding Customers}"
                      Text="{Binding SelectedCustomer, UpdateSourceTrigger=PropertyChanged}"
                      IsEditable="True"
                      Height="28"/>
            <TextBlock Text="(Select existing or type new name)"
                       FontSize="11"
                       Foreground="Gray"/>
        </StackPanel>

        <!-- ORDER LINES -->
        <Grid Grid.Row="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- ADD LINE -->
            <StackPanel Orientation="Horizontal"
                        Margin="0,0,0,8">

                <ComboBox Width="180"
                          Margin="0,0,8,0"
                          ItemsSource="{Binding Items}"
                          SelectedItem="{Binding SelectedItem}"
                          DisplayMemberPath="Name"/>


                <ComboBox Width="140"
                          Margin="0,0,8,0"
                          SelectedItem="{Binding SelectedWarehouse}">
                    <ComboBoxItem Content="Warehouse A"/>
                    <ComboBoxItem Content="Warehouse B"/>
                    <ComboBoxItem Content="Warehouse C"/>
                    <ComboBoxItem Content="Warehouse D"/>
                </ComboBox>

                <TextBox Width="80"
                         Margin="0,0,8,0"
                         Text="{Binding Quantity}"/>


                <Button Content="Add"
                        Command="{Binding AddLineCommand}"
                        Padding="10,4"/>
            </StackPanel>

            <!-- LINES GRID -->
            <DataGrid Grid.Row="1"
                      ItemsSource="{Binding Lines}"
                      AutoGenerateColumns="False"
                      CanUserAddRows="False">

                <DataGrid.Columns>
                    <DataGridTextColumn Header="Product"
                                        Binding="{Binding Item.Name}"
                                        Width="*"/>

                    <DataGridTextColumn Header="Warehouse"
                                        Binding="{Binding Warehouse}"
                                        Width="140"/>

                    <DataGridTextColumn Header="Qty"
                                        Binding="{Binding Quantity}"
                                        Width="80"/>
                </DataGrid.Columns>
            </DataGrid>
        </Grid>

        <!-- FOOTER -->
        <StackPanel Grid.Row="3"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,12,0,0">

            <Button Content="Cancel"
                    Command="{Binding CancelCommand}"
                    Margin="0,0,8,0"/>

            <Button Content="Create Order"
                    Command="{Binding CreateOrderCommand}"
                    Padding="14,6"
                    Background="#10B981"
                    Foreground="White"/>
        </StackPanel>
    </Grid>
</Window>
