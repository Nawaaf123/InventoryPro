<UserControl x:Class="InventoryPro.Views.ReceiveStockView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- HEADER -->
        <TextBlock Text="Receive Stock"
                   FontSize="22"
                   FontWeight="Bold"
                   Margin="0,0,0,12"/>

        <!-- BOL -->
        <StackPanel Grid.Row="1" Margin="0,0,0,10">
            <TextBlock Text="BOL Number"/>
            <TextBox Text="{Binding BOLNumber}"/>
        </StackPanel>

        <!-- Warehouse -->
        <StackPanel Grid.Row="2" Margin="0,0,0,10">
            <TextBlock Text="Select Warehouse"/>
            <ComboBox ItemsSource="{Binding Warehouses}"
                      SelectedItem="{Binding SelectedWarehouse}"/>
        </StackPanel>

        <!-- PRODUCT LIST -->
        <GroupBox Grid.Row="3" Header="Products to Receive">
            <StackPanel>

                <ItemsControl ItemsSource="{Binding Lines}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <DockPanel Margin="0,4">
                                <TextBlock Text="{Binding Item.Name}" Width="200"/>
                                <TextBlock Text="{Binding Quantity}" Width="60"/>
                                <Button Content="🗑"
                                        Command="{Binding DataContext.RemoveLineCommand,
                                                  RelativeSource={RelativeSource AncestorType=UserControl}}"
                                        CommandParameter="{Binding}"/>
                            </DockPanel>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>

                <Separator Margin="0,8"/>

                <!-- ADD ROW -->
                <StackPanel Orientation="Horizontal">
                    <ComboBox Width="200"
                              ItemsSource="{Binding Items}"
                              DisplayMemberPath="Name"
                              SelectedItem="{Binding SelectedItem}"/>

                    <TextBox Width="60"
                             Margin="8,0"
                             Text="{Binding Qty}"/>

                    <Button Content="+ Add Product"
                            Command="{Binding AddLineCommand}"/>
                </StackPanel>
            </StackPanel>
        </GroupBox>

        <!-- FOOTER -->
        <StackPanel Grid.Row="4"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0,12,0,0">

            <Button Content="Cancel"
                    Margin="0,0,8,0"
                    Command="{Binding CancelCommand}"/>

            <Button Content="Receive Stock"
                    Background="#10B981"
                    Foreground="White"
                    Command="{Binding ReceiveStockCommand}"/>
        </StackPanel>
    </Grid>
</UserControl>
